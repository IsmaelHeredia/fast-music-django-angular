<div class="account-card">
  <mat-card appearance="outlined">
    <mat-card-title>Actualizar datos de cuenta</mat-card-title>
    <mat-card-content>
      <form [formGroup]="userForm" (ngSubmit)="submitForm()">
        <div>
          <mat-form-field>
            <mat-label>Usuario</mat-label>
            <input matInput placeholder="Usuario" formControlName="username" required readonly />
            <mat-error *ngIf="userForm?.get('username')?.invalid">
              El usuario es obligatorio
            </mat-error>
          </mat-form-field>
        </div>
        <div>
          <mat-form-field>
            <mat-label>Nuevo usuario</mat-label>
            <input matInput placeholder="Nuevo usuario" formControlName="new_username" required />
            <mat-error *ngIf="userForm?.get('new_username')?.invalid">
              El nuevo usuario es obligatorio
            </mat-error>
          </mat-form-field>
        </div>
        <div>
          <mat-form-field>
            <mat-label>Contraseña</mat-label>
            <input matInput [type]="hide() ? 'password' : 'text'" placeholder="Contraseña" formControlName="password"
              required />
            <button type="button" mat-icon-button matSuffix (click)="clickEvent($event)"
              [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide()">
              <mat-icon>{{hide() ? 'visibility_off' : 'visibility'}}</mat-icon>
            </button>
            <mat-error *ngIf="userForm?.get('password')?.invalid">
              La contraseña es obligatoria
            </mat-error>
          </mat-form-field>
        </div>
        <div>
          <mat-form-field>
            <mat-label>Nueva contraseña</mat-label>
            <input matInput [type]="hideNew() ? 'password' : 'text'" placeholder="Nueva contraseña"
              formControlName="new_password" required />
            <button type="button" mat-icon-button matSuffix (click)="clickEventNew($event)"
              [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hideNew()">
              <mat-icon>{{hide() ? 'visibility_off' : 'visibility'}}</mat-icon>
            </button>
            <mat-error *ngIf="userForm?.get('new_password')?.invalid">
              La nueva contraseña es obligatoria
            </mat-error>
          </mat-form-field>
        </div>

        <div class="button center-div">
          <button type="submit" mat-flat-button [disabled]="(loading$ | async)"><mat-icon>save</mat-icon> Guardar</button>
        </div>

      </form>
    </mat-card-content>
  </mat-card>
</div>